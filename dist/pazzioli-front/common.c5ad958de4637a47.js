"use strict";(self.webpackChunkpazzioli_front=self.webpackChunkpazzioli_front||[]).push([[592],{1005:(k,d,c)=>{c.d(d,{$:()=>f});var h=c(2462),u=c(5529),r=c(6498);class l{constructor(i,o,t,e,s){this.datos={sistema:"DASHBOARD",tipoConsulta:"POS",canalPos:String,canalUsuario:String,metodo:"CONSULTAR",consulta:String,condicion:String,datoCondicion:String},this.datos.canalPos=i,this.datos.canalUsuario=s,this.datos.consulta=o,this.datos.condicion=t,this.datos.datoCondicion=e}}var S=c(4650);let f=(()=>{class n{constructor(){this.socketEscucha="DASHBOARD",this.escuchando=!1,this.componentMethodCallSource=new u.xQ,this.componentMethodCalled$=this.componentMethodCallSource.asObservable(),console.log("\u{1f7e1} SocketService inicializado")}callComponentMethod(){this.componentMethodCallSource.next({algo:"por aqui paso algo"})}conectar(o){this.socket=(0,h.io)("http://localhost:3000",{transports:["websocket"],auth:{token:o}}),this.socket.on("connect",()=>{console.log("\u2705 Conectado al servidor con ID:",this.socket.id)}),this.socket.on("connect_error",t=>{console.error("\u274c Error de conexi\xf3n:",t)}),this.socket.on("disconnect",()=>{console.warn("\u26a0\ufe0f Desconectado del servidor")}),void 0!==this.socket&&(this.socketConexion=new r.y(t=>{this.socket.on(this.socketEscucha,e=>{console.log("Conectado al servidor con ID:",this.socket.id),t.next(e),console.log(e)})}))}enviarInfo(o){console.log("entro aqui 1"),this.socket.emit("aws",o)}obtenerInfo(o){return new r.y(t=>{this.escuchando||this.socket.on(o,e=>{t.next(e),console.log(e),this.escuchando=!0})})}consultarTercero(o,t,e,s){let a=new l(o,"TERCEROS",t,e,s);this.enviarInfo(a.datos)}consultarProducto(o,t,e,s){let a=new l(o,"PRODUCTOS",t,e,s);this.enviarInfo(a.datos)}crearPedido(o,t,e){this.enviarInfo({sistema:"DASHBOARD",tipoConsulta:"POS",canalPos:o,canalUsuario:t,metodo:"CREAR",consulta:"PEDIDO",crear:e})}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=S.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);