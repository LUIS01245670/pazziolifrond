"use strict";(self.webpackChunkpazzioli_front=self.webpackChunkpazzioli_front||[]).push([[671],{671:(N,p,e)=>{e.r(p),e.d(p,{AutenticacionModule:()=>_});var l=e(6895),d=e(6630),s=e(4006),t=e(4650),m=e(1541),f=e(1005),g=e(5041),x=e(5412),v=e(5818),h=e(4067),C=e(5657),b=e(7392),Z=e(4859),c=e(9549),y=e(4144),I=e(4385),T=e(3238),U=e(1572);const j=["inUsuario"],w=["inContrasena"];function A(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"button",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cancelar())}),t._uU(3,"cancelar"),t.qZA()(),t.TgZ(4,"div",22)(5,"button",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cerrarsesionuser())}),t._uU(6,"cerrar"),t.qZA()()()}}function M(o,r){if(1&o&&(t.TgZ(0,"div",18)(1,"span",19),t._uU(2),t.qZA(),t.YNc(3,A,7,0,"div",20),t.qZA()),2&o){const n=t.oxw(2);t.xp6(2),t.Oqu(n.mensaje),t.xp6(1),t.Q6J("ngIf",n.botoncierresesion)}}function S(o,r){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=r.$implicit;t.Q6J("value",n.base_datos),t.xp6(1),t.hij(" ",n.empresa," ")}}function O(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t.YNc(4,M,4,2,"div",7),t.TgZ(5,"mat-form-field",8)(6,"mat-label"),t._uU(7,"Identificacion"),t.qZA(),t._UZ(8,"input",9,10),t.TgZ(10,"mat-icon",11),t._uU(11,"person"),t.qZA()()(),t.TgZ(12,"div",6)(13,"mat-form-field",8)(14,"mat-label"),t._uU(15,"Nombre de usuario"),t.qZA(),t._UZ(16,"input",9,10),t.TgZ(18,"mat-icon",11),t._uU(19,"person"),t.qZA()()(),t.TgZ(20,"div",6)(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"Contrase\xf1a"),t.qZA(),t._UZ(24,"input",12,13),t.TgZ(26,"mat-icon",11),t._uU(27,"lock"),t.qZA()()(),t.TgZ(28,"div",6)(29,"mat-form-field",8)(30,"mat-label"),t._uU(31,"Seleccione la sede"),t.qZA(),t.TgZ(32,"mat-select",14),t.YNc(33,S,2,2,"mat-option",15),t.qZA(),t.TgZ(34,"mat-error"),t._uU(35,"campo requerido"),t.qZA()()(),t.TgZ(36,"div",6)(37,"button",16),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.login())}),t._uU(38," Iniciar sesi\xf3n "),t.qZA()()()(),t._UZ(39,"div",17),t.qZA()}if(2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngIf",""!==n.mensaje),t.xp6(4),t.Q6J("formControl",n.inputdocumento),t.xp6(8),t.Q6J("formControl",n.inputUsuario),t.xp6(8),t.Q6J("formControl",n.inputpassword),t.xp6(8),t.Q6J("formControl",n.selectSedes),t.xp6(1),t.Q6J("ngForOf",n.data)}}const k=[{path:"login",component:(()=>{class o{constructor(n,a,i,P,F,Q,Y,z){this.socketprodu=n,this.router=a,this.socketServices=i,this.app=P,this.dialog=F,this.crypt=Q,this.serviauth=Y,this.cookieservices=z,this.title="",this.loader=!0,this.mensaje="",this.botoncierresesion=!1,this.serviauth.traerempresa().subscribe(u=>{this.data=u.data,this.loader=!1,console.log(u.data)}),this.inputdocumento=new s.p4("",[s.kI.required]),this.inputUsuario=new s.p4("",[s.kI.required]),this.inputpassword=new s.p4("",[s.kI.required]),this.selectSedes=new s.p4("",[s.kI.required])}cancelar(){this.botoncierresesion=!1,this.mensaje=""}cerrarsesionuser(){this.serviauth.salir().subscribe(n=>{this.botoncierresesion=!1,this.mensaje=""},n=>console.log(n))}login(){console.log(this.inputUsuario.value),this.serviauth.login({user:this.inputUsuario.value,documento:this.inputdocumento.value,password:this.inputpassword.value,db:this.selectSedes.value}).subscribe(n=>{console.log("si esta autenticado",n.autenticado),n.autenticado&&(this.socketprodu.conectar(),window.location.reload())},n=>{this.mensaje=n.error.mensaje,n.error.opcion?(this.mensaje=n.error.mensaje,this.botoncierresesion=n.error.opcion):setTimeout(()=>{this.mensaje=""},4e3)})}ngOnInit(){console.log("entro al login")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.R),t.Y36(d.F0),t.Y36(f.$),t.Y36(g.y),t.Y36(x.uw),t.Y36(v.j),t.Y36(h.e),t.Y36(C.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-inicio-sesion"]],viewQuery:function(n,a){if(1&n&&(t.Gf(j,5),t.Gf(w,5)),2&n){let i;t.iGM(i=t.CRH())&&(a.inUsuario=i.first),t.iGM(i=t.CRH())&&(a.inContrasena=i.first)}},decls:4,vars:7,consts:[[1,"loader","loader-fixed",3,"diameter","strokeWidth"],[1,"loader","loader-text","mat-text-primary",2,"position","fixed !important"],["class","col-12 m-auto p-0 row","style","\n    display: flex;\n    padding: 20px !important;\n    justify-content: center;\n    margin: auto !important;\n    height: 100%;\n  ","class","loginpa",4,"ngIf"],[1,"loginpa",2,"display","flex","padding","20px !important","justify-content","center","margin","auto !important","height","100%"],[1,"logindiv",2,"flex","0 2 50%","display","flex","justify-content","center","height","100%"],[2,"width","100%","height","50% !important"],[1,"col-10","m-auto"],["style","\n            background-color: #e74c3c;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 20px;\n            padding: 8px;\n            margin-bottom: 10px;\n            flex-direction: column;\n          ",4,"ngIf"],["appearance","fill"],["matInput","","placeholder","Ingrese su usuario","autocomplete","off",3,"formControl"],["inUsuario",""],["matSuffix",""],["matInput","","type","password","placeholder","Ingrese su contrase\xf1a","autocomplete","off",3,"formControl"],["inContrasena",""],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","full-button","",3,"click"],[1,"col-12","col-sm-8","col-md-6","col-lg-8","loginback",2,"flex","1 1 200px"],[2,"background-color","#e74c3c","display","flex","justify-content","center","align-items","center","border-radius","20px","padding","8px","margin-bottom","10px","flex-direction","column"],[2,"color","#ffff","text-align","end"],["style","display: flex; justify-content: space-between; width: 100%",4,"ngIf"],[2,"display","flex","justify-content","space-between","width","100%"],[1,"example-button-row",2,"width","50%","display","flex","justify-content","center"],["mat-button","",3,"click"],[3,"value"]],template:function(n,a){1&n&&(t._UZ(0,"mat-spinner",0),t.TgZ(1,"label",1),t._uU(2,"Espere..."),t.qZA(),t.YNc(3,O,40,6,"div",2)),2&n&&(t.ekj("shown",a.loader),t.Q6J("diameter",50)("strokeWidth",3),t.xp6(1),t.ekj("shown",a.loader),t.xp6(2),t.Q6J("ngIf",!a.loader))},dependencies:[l.sg,l.O5,b.Hw,Z.lW,c.TO,c.KE,c.hX,c.R9,y.Nt,I.gD,T.ey,s.Fj,s.JJ,s.oH,U.Ou],styles:[".loginback[_ngcontent-%COMP%]{background:url(pazzioli.40d3738aec0dc867.png);background-size:200px;background-repeat:no-repeat;background-position:center}@media (max-width: 821px){.logindiv[_ngcontent-%COMP%]{align-items:center!important}}@media (max-width: 760px){.loginpa[_ngcontent-%COMP%]{flex-direction:column-reverse}.logindiv[_ngcontent-%COMP%]{align-items:start!important}}.hidden[_ngcontent-%COMP%]{display:none}.login-form[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);box-shadow:0 0 82px 130px #fff!important}.login-text[_ngcontent-%COMP%]{font-size:30px;text-shadow:-1px 1px 100px rgba(0,0,0,.92),1px 1px 100px rgba(0,0,0,.44),1px -1px 100px rgba(0,0,0,.71),-1px -1px 100px rgba(0,0,0,.185);color:#fff}.example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;max-width:90px;width:90PX}.example-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}"]}),o})(),data:{title:"Iniciar sesi\xf3n"}}];var J=e(9842);let _=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,d.Bz.forChild(k),J.q]}),o})()}}]);